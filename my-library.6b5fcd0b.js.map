{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SCEe,SAAAC,EAAuBC,GACpC,OAAOA,EACJC,KAAI,EAACC,YAAEA,EAAWC,MAAEA,EAAKC,OAAEA,EAAMC,aAAEA,EAAYC,aAAEA,EAAYC,GAAEA,MAC9D,IAAIC,EAAcJ,EAAOH,KAAIQ,GAASA,EAAMC,OAI5C,OAHIF,EAAYG,OAAS,IACvBH,EAAc,GAAGA,EAAY,OAAOA,EAAY,aAElC,WAAWD,gFACyCL,WAAqBC,gFAE7DA,0CACDK,OAAiBH,EAAaO,MACvD,EACA,kDAE2BN,EAAaO,QAAQ,4CAE5C,IAEPC,KAAK,G,YArBVhB,EAAA,S,WDKA,MAAMiB,EAAYC,SAASC,cAAc,eACnCC,EAAaF,SAASC,cAAc,eACpCE,EAAWH,SAASC,cAAc,aAExCC,EAAWE,iBAAiB,QAASC,GACrCF,EAASC,iBAAiB,QAASE,GAMnC,IAAIC,EAAY1B,EAAA2B,QAAMC,KAJC,WAKvBF,EAAYA,GAAwB,GAEpC,IAAIG,EAAY7B,EAAA2B,QAAMC,KAND,SASd,SAASJ,IACd,MAAMM,EAAS5B,EAAcwB,GAC7BR,EAAUa,UAAYD,EACtBT,EAAWW,UAAUC,IAAI,UACzBX,EAASU,UAAUE,OAAO,UAC1BlC,EAAA2B,QAAMQ,KAbiB,gBAaM,U,CAGxB,SAASV,IACd,MAAMK,EAAS5B,EAAc2B,GAC7BX,EAAUa,UAAYD,EACtBT,EAAWW,UAAUE,OAAO,UAC5BZ,EAASU,UAAUC,IAAI,UACvBjC,EAAA2B,QAAMQ,KArBiB,gBAqBM,Q,CAf/BN,EAAYA,GAAwB,G,WEbpC,IAAIO,G,cAAeT,QAAMC,KAFA,iBAGzBQ,EAAeA,GAA8B,GAExB,UAAjBA,EACFX,IAEAD","sources":["src/js/buttonsMyLibHeader.js","src/js/libraryMarkup.js","src/my-library.js"],"sourcesContent":["import lsAPI from './localestorage';\nimport { Notify } from 'notiflix';\nimport libraryMarkup from './libraryMarkup';\nimport getGenres from './getGenre';\n\nconst libraryEl = document.querySelector('.js-library');\nconst watchedBtn = document.querySelector('.js-watched');\nconst queueBtn = document.querySelector('.js-queue');\n\nwatchedBtn.addEventListener('click', watchedBtnClick);\nqueueBtn.addEventListener('click', queueBtnClick);\n\nconst LS_WATCHED_KEY = 'watched';\nconst LS_QUEUE_KEY = 'queue';\nconst LS_LIBRARY_STATE = 'library-state';\n\nlet watchList = lsAPI.load(LS_WATCHED_KEY);\nwatchList = watchList ? watchList : [];\n\nlet queueList = lsAPI.load(LS_QUEUE_KEY);\nqueueList = queueList ? queueList : [];\n\nexport function watchedBtnClick() {\n  const markup = libraryMarkup(watchList);\n  libraryEl.innerHTML = markup;\n  watchedBtn.classList.add('active');\n  queueBtn.classList.remove('active');\n  lsAPI.save(LS_LIBRARY_STATE, 'watched');\n}\n\nexport function queueBtnClick() {\n  const markup = libraryMarkup(queueList);\n  libraryEl.innerHTML = markup;\n  watchedBtn.classList.remove('active');\n  queueBtn.classList.add('active');\n  lsAPI.save(LS_LIBRARY_STATE, 'queue');\n}\n","import getGenres from './getGenre';\n\nexport default function libraryMarkup(moviesSet) {\n  return moviesSet\n    .map(({ poster_path, title, genres, release_date, vote_average, id }) => {\n      let movieGenres = genres.map(genre => genre.name);\n      if (movieGenres.length > 2) {\n        movieGenres = `${movieGenres[0]}, ${movieGenres[1]}, Other`;\n      }\n      return /*html*/ `<li id=\"${id}\">\n        <img class=\"list__img\" src=\"https://image.tmdb.org/t/p/original/${poster_path}\" alt=\"${title}\"></img>\n        <div class=\"list__text\">\n        <h2 class=\"list__title\">${title}</h2>\n        <p class=\"list__genre\">${movieGenres} | ${release_date.slice(\n        0,\n        4\n      )}&nbsp&nbsp\n        <span class=\"list__vote\">${vote_average.toFixed(1)}</span></p>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n","import './js/buttonsMyLibHeader';\nimport './js/modal';\nimport lsAPI from './js/localestorage';\nimport { watchedBtnClick, queueBtnClick } from './js/buttonsMyLibHeader';\n\nconst LS_LIBRARY_STATE = 'library-state';\n\nlet libraryState = lsAPI.load(LS_LIBRARY_STATE);\nlibraryState = libraryState ? libraryState : [];\n\nif (libraryState === 'queue') {\n  queueBtnClick();\n} else {\n  watchedBtnClick();\n}\n"],"names":["$bJT8V","parcelRequire","$5a89392a7500e643$export$2e2bcd8739ae039","moviesSet","map","poster_path","title","genres","release_date","vote_average","id","movieGenres","genre","name","length","slice","toFixed","join","$db84767f1de8312a$var$libraryEl","document","querySelector","$db84767f1de8312a$var$watchedBtn","$db84767f1de8312a$var$queueBtn","addEventListener","$db84767f1de8312a$export$6062dbb42d1e00e2","$db84767f1de8312a$export$38ea81b09ac7105b","$db84767f1de8312a$var$watchList","default","load","$db84767f1de8312a$var$queueList","markup","innerHTML","classList","add","remove","save","$fc8e7c71b3b7ed96$var$libraryState"],"version":3,"file":"my-library.6b5fcd0b.js.map"}