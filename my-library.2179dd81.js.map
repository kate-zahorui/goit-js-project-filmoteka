{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SCEe,SAAAC,EAAuBC,GACpC,OAAOA,EACJC,KAAI,SAAAC,G,IAAGC,EAAWD,EAAXC,YAAaC,EAAKF,EAALE,MAAOC,EAAMH,EAANG,OAAQC,EAAYJ,EAAZI,aAAcC,EAAYL,EAAZK,aAAcC,EAAEN,EAAFM,GAC1DC,EAAcJ,EAAOJ,KAAI,SAAAS,G,OAASA,EAAMC,I,IAI5C,OAHIF,EAAYG,OAAS,IACvBH,EAAc,GAAsBI,OAAnBJ,EAAY,GAAG,MAAmBI,OAAfJ,EAAY,GAAG,YAErC,WACoDI,OADzCL,EAAG,gFAC2DK,OAArBV,EAAY,WAEpDU,OAF6DT,EAAM,gFAGpES,OADCT,EAAM,0CACUS,OAAjBJ,EAAY,OAIVI,OAJeP,EAAaQ,MACvD,EACA,GACA,iDACmDD,OAAxBN,EAAaQ,QAAQ,GAAG,2C,IAItDC,KAAK,G,YArBVlB,EAAA,S,WDKA,IAAMmB,EAAYC,SAASC,cAAc,eACnCC,EAAaF,SAASC,cAAc,eACpCE,EAAWH,SAASC,cAAc,aAExCC,EAAWE,iBAAiB,QAASC,GACrCF,EAASC,iBAAiB,QAASE,GAEnC,IAEMC,EAAmB,gBAErBC,EAAY7B,EAAA8B,QAAMC,KAJC,WAKvBF,EAAYA,GAAwB,GAEpC,IAAIG,EAAYhC,EAAA8B,QAAMC,KAND,SASd,SAASL,IACd,IAAMO,EAAS/B,EAAc2B,GAC7BT,EAAUc,UAAYD,EACtBV,EAAWY,UAAUC,IAAI,UACzBZ,EAASW,UAAUE,OAAO,UAC1BrC,EAAA8B,QAAMQ,KAAKV,EAAkB,U,CAGxB,SAASD,IACd,IAAMM,EAAS/B,EAAc8B,GAC7BZ,EAAUc,UAAYD,EACtBV,EAAWY,UAAUE,OAAO,UAC5Bb,EAASW,UAAUC,IAAI,UACvBpC,EAAA8B,QAAMQ,KAAKV,EAAkB,Q,CAf/BI,EAAYA,GAAwB,G,eEbhCO,G,cAAeT,QAAMC,KAFA,iBAKJ,WAFrBQ,EAAeA,GAA8B,IAG3CZ,IAEAD,G","sources":["src/js/buttonsMyLibHeader.js","src/js/libraryMarkup.js","src/my-library.js"],"sourcesContent":["import lsAPI from './localestorage';\nimport { Notify } from 'notiflix';\nimport libraryMarkup from './libraryMarkup';\nimport getGenres from './getGenre';\n\nconst libraryEl = document.querySelector('.js-library');\nconst watchedBtn = document.querySelector('.js-watched');\nconst queueBtn = document.querySelector('.js-queue');\n\nwatchedBtn.addEventListener('click', watchedBtnClick);\nqueueBtn.addEventListener('click', queueBtnClick);\n\nconst LS_WATCHED_KEY = 'watched';\nconst LS_QUEUE_KEY = 'queue';\nconst LS_LIBRARY_STATE = 'library-state';\n\nlet watchList = lsAPI.load(LS_WATCHED_KEY);\nwatchList = watchList ? watchList : [];\n\nlet queueList = lsAPI.load(LS_QUEUE_KEY);\nqueueList = queueList ? queueList : [];\n\nexport function watchedBtnClick() {\n  const markup = libraryMarkup(watchList);\n  libraryEl.innerHTML = markup;\n  watchedBtn.classList.add('active');\n  queueBtn.classList.remove('active');\n  lsAPI.save(LS_LIBRARY_STATE, 'watched');\n}\n\nexport function queueBtnClick() {\n  const markup = libraryMarkup(queueList);\n  libraryEl.innerHTML = markup;\n  watchedBtn.classList.remove('active');\n  queueBtn.classList.add('active');\n  lsAPI.save(LS_LIBRARY_STATE, 'queue');\n}\n","import getGenres from './getGenre';\n\nexport default function libraryMarkup(moviesSet) {\n  return moviesSet\n    .map(({ poster_path, title, genres, release_date, vote_average, id }) => {\n      let movieGenres = genres.map(genre => genre.name);\n      if (movieGenres.length > 2) {\n        movieGenres = `${movieGenres[0]}, ${movieGenres[1]}, Other`;\n      }\n      return /*html*/ `<li id=\"${id}\">\n        <img class=\"list__img\" src=\"https://image.tmdb.org/t/p/original/${poster_path}\" alt=\"${title}\"></img>\n        <div class=\"list__text\">\n        <h2 class=\"list__title\">${title}</h2>\n        <p class=\"list__genre\">${movieGenres} | ${release_date.slice(\n        0,\n        4\n      )}&nbsp&nbsp\n        <span class=\"list__vote\">${vote_average.toFixed(1)}</span></p>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n","import './js/buttonsMyLibHeader';\nimport './js/modal';\nimport lsAPI from './js/localestorage';\nimport { watchedBtnClick, queueBtnClick } from './js/buttonsMyLibHeader';\n\nconst LS_LIBRARY_STATE = 'library-state';\n\nlet libraryState = lsAPI.load(LS_LIBRARY_STATE);\nlibraryState = libraryState ? libraryState : [];\n\nif (libraryState === 'queue') {\n  queueBtnClick();\n} else {\n  watchedBtnClick();\n}\n"],"names":["$1kXJT","parcelRequire","$80c1fb273848d079$export$2e2bcd8739ae039","moviesSet","map","param","poster_path","title","genres","release_date","vote_average","id","movieGenres","genre","name","length","concat","slice","toFixed","join","$6ec37d3ef03e8204$var$libraryEl","document","querySelector","$6ec37d3ef03e8204$var$watchedBtn","$6ec37d3ef03e8204$var$queueBtn","addEventListener","$6ec37d3ef03e8204$export$6062dbb42d1e00e2","$6ec37d3ef03e8204$export$38ea81b09ac7105b","$6ec37d3ef03e8204$var$LS_LIBRARY_STATE","$6ec37d3ef03e8204$var$watchList","default","load","$6ec37d3ef03e8204$var$queueList","markup","innerHTML","classList","add","remove","save","$865c390aa2d1ad34$var$libraryState"],"version":3,"file":"my-library.2179dd81.js.map"}