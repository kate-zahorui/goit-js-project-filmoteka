var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequirec2b7;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequirec2b7=a);var i=a("bJT8V"),s=a("eWCmQ");function r(e){return e.map((({poster_path:e,title:t,genres:n,release_date:a,vote_average:i,id:s})=>{let r=n.map((e=>e.name));return r.length>2&&(r=`${r[0]}, ${r[1]}, Other`),`<li class="list__item" id="${s}">\n        <img class="list__img" src="https://image.tmdb.org/t/p/original/${e}" alt="${t}"></img>\n        <div class="list__text">\n        <h2 class="list__title">${t}</h2>\n        <p class="list__genre">${r} | ${a.slice(0,4)}&nbsp&nbsp\n        <span class="list__vote">${i.toFixed(1)}</span></p>\n        </div>\n      </li>`})).join("")}var o=a("2nhTy");const l=document.querySelector(".js-library"),d=document.querySelector(".js-watched"),c=document.querySelector(".js-queue"),u=document.getElementById("tui-pagination-container");let g=i.default.load("watched");g=g||[];let m,v,f=i.default.load("queue");function p(e){"string"!=typeof e&&(e=e.target?e.target.name:"watched"),"queue"===e?(d.classList.remove("active"),c.classList.add("active")):(d.classList.add("active"),c.classList.remove("active")),i.default.save("library-state",e),function(e){v=window.innerWidth>=1280?9:window.innerWidth>=768?8:4;if(i.default.load(e)&&i.default.load(e).length){m=(0,o.default)(i.default.load(e).length,v),u.removeAttribute("style"),m.on("afterMove",(t=>{l.innerHTML=r(i.default.load(e).slice(t.page*v-v,t.page*v)),sessionStorage.setItem("page",t.page)}));const t=sessionStorage.getItem("savePage")||1;m.movePageTo(t),sessionStorage.removeItem("savePage")}else u.setAttribute("style","display: none"),l.innerHTML="",s.Notify.info("Your library is empty. You can add something")}(e)}f=f||[],a("bTcpz"),a("3edqM");i=a("bJT8V");a("3edqM");s=a("eWCmQ"),o=a("2nhTy");const y=(0,a("93rYB").default)(),h=document.querySelector(".js-library"),L=document.querySelector(".js-watched"),w=document.querySelector(".js-queue"),b=document.getElementById("tui-pagination-container");let q,S,E="watched";function _(e){E=e.target.name,T()}async function T(){const e=JSON.parse(sessionStorage.getItem("user"));let t=await y.readUserData(e.uid);t||(y.writeUserData(e.uid,[],[],"watched"),t=await y.readUserData(e.uid)),"queue"===E?(L.classList.remove("active"),w.classList.add("active")):(L.classList.add("active"),w.classList.remove("active")),t.state=E,y.writeUserData(e.uid,t.watched||[],t.queue||[],t.state),function(e){S=window.innerWidth>=1280?9:window.innerWidth>=768?8:4;if(e){q=(0,o.default)(e.length,S),b.removeAttribute("style"),q.on("afterMove",(t=>{h.innerHTML=r(e.slice(t.page*S-S,t.page*S)),sessionStorage.setItem("page",t.page)}));const t=sessionStorage.getItem("savePage")||1;q.movePageTo(t),sessionStorage.removeItem("savePage")}else b.setAttribute("style","display: none"),h.innerHTML="",s.Notify.info("Your library is empty. You can add something")}(t[E])}var k=a("d2gfz");k=a("d2gfz");const I=document.querySelector("#user"),O=document.querySelector(".js-watched"),j=document.querySelector(".js-queue");I.addEventListener("isLogedIn",(function(){O.addEventListener("click",_),j.addEventListener("click",_),O.removeEventListener("click",p),j.removeEventListener("click",p),T()}));let x=i.default.load("library-state");x=x||[];const M=JSON.parse(sessionStorage.getItem("user"));M?(I.textContent=M.displayName||"Anonymous",I.removeEventListener("click",k.registerOpen),I.addEventListener("click",k.logOutForm),O.addEventListener("click",_),j.addEventListener("click",_),T()):(I.removeEventListener("click",k.logOutForm),I.addEventListener("click",k.registerOpen),I.textContent="Login | Join",O.addEventListener("click",p),j.addEventListener("click",p),p(x));
//# sourceMappingURL=my-library.ff773bf5.js.map
